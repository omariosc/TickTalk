{% extends "home.html" %}
{% block head %}
<link rel="stylesheet" href="/static/css/rooms.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css">
{% endblock %}
{% block content %}
<div class="container">
  <h3 class="text-center">Room {{ room_id }}</h3>
  <div class="messaging">
    <div class="inbox_msg">
      <div class="mesgs">
        <div class="msg_history">
          {% for i in range(no_messages) %}
          {% if usernames[i] == current_user.username %}
          <div class="outgoing_msg">
            <div class="sent_msg">
              <p>{{ messages[i].message }}</p>
              <span class="time_date">{{ times[i] }}</span>
            </div>
          </div>
          {% else %}
          <div class="incoming_msg">
            <div class="received_msg">
              <div class="received_withd_msg">
                <p>@{{ usernames[i] }}: {{ messages[i].message }}</p>
                <span class="time_date">{{ times[i] }}</span>
              </div>
            </div>
          </div>
          {% endif %}
          {% endfor %}
        </div>
        <div class="type_msg">
          <div class="input_msg_write spacebottom">                
          <form method="POST" action="/room/chat/{{ room_id }}">
            <input type="text" name="message" class="write_msg inputfieldblack sendchat" placeholder="Enter text here..." required autofocus>
            <button class="msg_send_btn btn-darkmode" type="submit"><i class="fa fa-paper-plane-o" aria-hidden="true" alt="send"></i></button>
          </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
